{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2021-01-11 21:48:55.291661",
 "css": ".font-large {\n    font-size: 16px;\n}\n\n.test-info .text-left {\n    padding-right: 0;\n}\n\n.department-title {\n    margin-top: 0;\n    color: #003dc7;\n    margin-bottom: 32px;\n    font-size: 32px;\n}",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "Default",
 "html": "<div id=\"header-html\">\n    {% if letter_head and not no_letterhead -%}\n    <div class=\"letter-head text-center\">{{ letter_head }}</div>\n    {% endif %}\n    <h1 class=\"text-center department-title\"> Laboratory Department</h1>\n</div>\n\n<div class=\"row section-break test-info\">\n    <div class=\"col-xs-6 column-break\">\n        {% if doc.patient %}\n        <div class=\"row\">\n            <div class=\"col-xs-4 text-left\">\n                <label>Patient ID:</label>\n            </div>\n            <div class=\"col-xs-8 value\">\n                {{ doc.patient }}\n            </div>\n        </div>\n\n        <div class=\"row\">\n            <div class=\"col-xs-4 text-left\">\n                <label>Patient Name:</label>\n            </div>\n            <div class=\"col-xs-8  value\">\n                {{ doc.customer_name }}\n            </div>\n        </div>\n        {%- endif %}\n    </div>\n\n\n    <div class=\"col-xs-6 column-break\">\n        <div class=\"row\">\n            <div class=\"col-xs-4 text-left\">\n                <label>Order No.:</label>\n            </div>\n            <div class=\"col-xs-8  value\">\n                {{doc.name}}\n            </div>\n        </div>\n\n        <div class=\"row\">\n            <div class=\"col-xs-4 text-left\">\n                <label>Order Date:</label>\n            </div>\n            <div class=\"col-xs-8  value\">\n                {{ doc.posting_date }}\n            </div>\n        </div>\n\n        <div class=\"row\">\n            <div class=\"col-xs-4 text-left\">\n                <label>Doctor:</label>\n            </div>\n            <div class=\"col-xs-8  text-left value\">\n                {{ doc.ref_practitioner }}\n            </div>\n        </div>\n    </div>\n</div>\n\n{% set dept_map = {} %}\n{% set test_map = {} %}\n\n{% set approval_reqd = frappe.utils.cint(frappe.db.get_value(\"Healthcare Settings\", \"Healthcare Settings\", \"require_test_result_approval\")) %}\n\n{%- for row in doc.items -%}\n\n{% set doc = None %}\n\n{%- if row.reference_dt == \"Lab Test\" %}\n    {% set doc = frappe.get_doc('Lab Test', row.reference_dn ) %}\n{%- elif row.reference_dt == \"Lab Prescription\"-%}\n    {% set doc = frappe.get_doc('Lab Test', {\"prescription\": row.reference_dn} ) %}\n{% endif %}\n\n{% if doc.name not in test_map and (not approval_reqd or doc.approval_status == \"Approved\") and doc.docstatus == 1 %}\n    {% set _ = test_map.update({doc.name: doc}) %}\n    {% set _ = dept_map.setdefault(doc.department, []).append(doc) %}\n{% endif %}\n\n{% endfor %}\n\n{% for dept, tests in dept_map.items() %}\n<div class=\"text-center\">\n    <hr>\n    <h4 class=\"text-uppercase\"><b><u> {{dept}}</u></b></h4>\n</div>\n\n<div class=\"font-large\">\n    <table class=\"table\">\n        <tbody>\n            <tr>\n                <th style=\"border:none;\">Name of Test</th>\n                <th class=\"text-left\" style=\"border:none;\">Result</th>\n                <th class=\"text-right\" style=\"border:none;\">Normal Range</th>\n            </tr>\n\n            {% for test in tests %}\n            {%- if test.normal_test_items -%}\n\n            {%- if test.normal_test_items|length > 1 %}\n            <tr>\n                <td style=\"border:none; width: 40%;\"> <b>{{ test.lab_test_name }}</b> </td>\n                <td style=\"border:none;\">\n                <td style=\"border:none;\"></td>\n                </td>\n            </tr>\n            {%- endif -%}\n\n            {%- for row in test.normal_test_items -%}\n            <tr>\n                <td style=\"width: 40%;border:none;\">\n                    {%- if test.normal_test_items|length > 1 %}&emsp;&emsp;{%- endif -%}\n                    {%- if row.lab_test_name -%}<b>{{ row.lab_test_name }}</b>\n                    {%- else -%}&emsp;&emsp;&emsp;{%- endif -%}\n                    {%- if row.lab_test_event -%} &emsp;&emsp;{{ row.lab_test_event }}{%- endif -%}\n                </td>\n                <td style=\"width: 20%;text-align: left;border:none;\">\n                    {%- if row.result_value -%}{{ row.result_value }}{%- endif -%}&emsp;\n                    {%- if row.lab_test_uom -%}{{ row.lab_test_uom }}{%- endif -%}\n                </td>\n\n                <td style=\"width: 30%;text-align: right;border:none;\">\n                    <div style=\"border: 0px;\">\n                        {%- if row.normal_range -%}{{ row.normal_range }}{%- endif -%}\n                    </div>\n                </td>\n            </tr>\n            {%- endfor -%}\n\n            <div align=\"right\">\n                {%- if (frappe.db.get_value(\"Healthcare Settings\", \"None\", \"employee_name_and_designation_in_print\") == '1') -%}\n                <h6 class=\"text-uppercase\"><b>{{test.employee_name or \"\"}}</b></h6>\n                <h6 class=\"text-uppercase\"><b>{{test.employee_designation or \"\"}}</b></h6>\n                {%- endif -%}\n            </div>\n\n            {% endif %}\n            {% endfor %}\n        </tbody>\n    </table>\n</div>\n{%- endfor -%}\n\n\n<div align=\"right\">\n    {%- if (frappe.db.get_value(\"Healthcare Settings\", \"None\", \"employee_name_and_designation_in_print\") == '0') -%}\n    <h6><b>{{frappe.db.get_value(\"Healthcare Settings\", \"None\", \"custom_signature_in_print\") }}</b></h6>\n    {%- endif -%}\n</div>\n<div id=\"footer-html\" class=\"visible-pdf\">\n    {% if not no_letterhead and footer %}\n    <div class=\"letter-head-footer\">\n        {{ footer }}\n    </div>\n    {% endif %}\n    <p class=\"text-center small page-number visible-pdf\">\n        {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\n    </p>\n</div>",
 "idx": 0,
 "line_breaks": 0,
 "modified": "2021-06-25 16:44:57.301862",
 "modified_by": "Administrator",
 "module": "Rasiin",
 "name": "Invoice Lab Test Print New",
 "owner": "Administrator",
 "print_format_builder": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}